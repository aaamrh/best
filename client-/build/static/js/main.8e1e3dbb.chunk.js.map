{"version":3,"sources":["App.js","pages/user/index.js","pages/bulletin/index.js","redux/article.redux.js","pages/articles/index.js","pages/admin/index.js","pages/publish/index.js","pages/video/index.js","router.js","reducer.js","index.js"],"names":["App","this","props","children","Component","Header","Content","Footer","index","className","theme","mode","defaultSelectedKeys","style","padding","textAlign","Meta","Bulletin","handleClick","ev","console","log","target","gutter","span","to","hoverable","cover","alt","src","onClick","title","description","orientation","color","initState","code","url","content","like","mark","comment","type","sourceSite","videoCode","authorName","authorAvator","IconText","icon","text","React","createElement","Articles","state","listData","setState","match","params","axios","get","then","res","data","i","length","replace","substr","push","id","_id","href","avatar","author_avatar","author_name","externally","backgroundColor","itemLayout","size","dataSource","renderItem","item","Item","key","actions","StarOutlined","LikeOutlined","MessageOutlined","connect","counter","article","articles","dispatch","payload","Sider","Admin","collapsed","toggle","trigger","collapsible","UserOutlined","VideoCameraOutlined","MenuUnfoldOutlined","MenuFoldOutlined","overflow","margin","minHeight","layout","labelCol","wrapperCol","tailLayout","offset","Publish","onEditorStateChange","editorState","onContentStateChange","contentState","blocks","uploadImageCallBack","file","Promise","resolve","reject","FormData","xhr","XMLHttpRequest","append","open","send","addEventListener","response","JSON","parse","responseText","error","onFinish","values","contentHtml","draftToHtml","convertToRaw","getCurrentContent","publish","onCheckBox","checkedValues","onFinishFailed","errorInfo","EditorState","createEmpty","message","success","msg","name","initialValues","remember","label","rules","required","placeholder","width","Option","value","min","Group","options","defaultValue","onChange","htmlType","toolbarClassName","wrapperClassName","editorClassName","toolbar","image","uploadCallback","previewImage","present","mandatory","disabled","IVideo","Axios","iframe","document","getElementsByClassName","contentWindow","onload","dangerouslySetInnerHTML","__html","Router","path","render","component","combineReducers","action","store","createStore","reducer","compose","applyMiddleware","thunk","window","devToolsExtension","f","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.8e1e3dbb.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        { this.props.children }\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n","import React, { Component } from 'react';\r\nimport {Button, Layout, Menu, Breadcrumb } from 'antd'\r\nimport '../../css/common.scss'\r\nimport './index.scss'\r\n\r\n\r\nconst { Header, Content, Footer } = Layout;\r\n\r\n\r\nclass index extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Layout className=\"layout\">\r\n          <Header>\r\n            <div className=\"logo\" />\r\n            <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']}>\r\n              {/* <Menu.Item key=\"1\">nav 1</Menu.Item>\r\n              <Menu.Item key=\"2\">nav 2</Menu.Item>\r\n              <Menu.Item key=\"3\">nav 3</Menu.Item> */}\r\n            </Menu>\r\n          </Header>\r\n          <Content style={{ padding: '50px 50px 0' }}>\r\n            <div className=\"site-layout-content\">\r\n              {this.props.children}\r\n            </div>\r\n          </Content>\r\n          <Footer style={{ textAlign: 'center' }}>XXX ©2018 Created by XXX</Footer>\r\n        </Layout>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default index;","import React, { Component } from 'react';\r\nimport { Card, Col, Row, Divider } from 'antd';\r\nimport {Redirect, Link} from \"react-router-dom\";\r\n\r\nimport '../../css/common.scss'\r\n\r\nconst { Meta } = Card;\r\n\r\nclass Bulletin extends Component {\r\n\r\n  handleClick = (ev) => {\r\n    // this.props.history.push('/')\r\n    \r\n    console.log(this.props)\r\n    console.log(ev, ev.target)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"site-card-wrapper container\">\r\n        <Row gutter={50}>\r\n          <Col span={6}>\r\n            <Link to=\"/articles/economy\" target=\"_blank\">\r\n              <Card hoverable\r\n                cover={<img alt=\"\" src=\"/assets/imgs/economy-1.jpg\" />}\r\n                onClick={this.handleClick}\r\n              >\r\n                <Meta title=\"\" description=\"经济\" />\r\n              </Card>\r\n            </Link>\r\n          </Col>\r\n          <Col span={6}>\r\n            <Link to=\"/articles/documentary\" target=\"_blank\">\r\n              <Card hoverable\r\n                cover={<img alt=\"\" src=\"/assets/imgs/movie.jpg\" />}\r\n                onClick={this.handleClick}\r\n              >\r\n                <Meta title=\"\" description=\"纪录片\" />\r\n              </Card>\r\n            </Link>\r\n          </Col>\r\n          <Col span={6}>\r\n            <Card\r\n              hoverable\r\n              cover={<img alt=\"example\" src=\"https://cn.udacity.com/assets/iridium/images/shared/nd-cards/nd009.jpg\" />}\r\n            >\r\n              <Meta title=\"Europe Street beat\" description=\"www.instagram.com\" />\r\n            </Card>\r\n          </Col>\r\n          <Col span={6}>\r\n            <Card\r\n              hoverable\r\n              cover={<img alt=\"example\" src=\"https://cn.udacity.com/assets/iridium/images/shared/nd-cards/nd578.jpg\" />}\r\n            >\r\n              <Meta title=\"Europe Street beat\" description=\"www.instagram.com\" />\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Divider orientation=\"left\" style={{ color: '#1DA57A' }}>\r\n          知乎万赞\r\n        </Divider>\r\n        <Row gutter={50}>\r\n          <Col span={8}>\r\n            <Card\r\n              hoverable\r\n              cover={<img alt=\"example\" src=\"https://cn.udacity.com/assets/iridium/images/shared/nd-cards/nd002.jpg\" />}\r\n            >\r\n              <Meta title=\"经济\" description=\"知乎100万赞\" />\r\n            </Card>\r\n          </Col>\r\n          <Col span={8}>\r\n            <Card \r\n              hoverable\r\n              cover={<img alt=\"example\" src=\"https://cn.udacity.com/assets/iridium/images/shared/nd-cards/nd100-cn-trial.jpg\" />}\r\n            >\r\n              <Meta title=\"娱乐\" description=\"知乎50万赞\" />\r\n            </Card>\r\n          </Col>\r\n          <Col span={8}>\r\n            <Card\r\n              hoverable\r\n              cover={<img alt=\"example\" src=\"https://cn.udacity.com/assets/iridium/images/shared/nd-cards/nd009.jpg\" />}\r\n            >\r\n              <Meta title=\"生活\" description=\"知乎20万+赞\" />\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Bulletin;","import axios from \"axios\"\r\nimport { act } from \"react-dom/test-utils\"\r\n\r\nconst PUBLISH_SUCCESS = 'PUBLISH_SUCCESS'\r\nconst ARTICLES_SUCCESS = 'ARTICLES_SUCCESS'\r\n\r\nconst initState = {\r\n  code: null,\r\n  url: '',\r\n  title:'',\r\n  content: '',\r\n  like: 0,\r\n  mark: 0,\r\n  comment: 0,\r\n  type: 'economy',\r\n  sourceSite: '',\r\n  videoCode: '' ,\r\n  authorName: '',\r\n  authorAvator: '',\r\n}\r\n\r\n/**** reducer ****/ \r\nexport function article(state=initState, action){\r\n  switch(action.type){\r\n    case PUBLISH_SUCCESS:\r\n      return { ...state, ...action.payload }\r\n\r\n    case ARTICLES_SUCCESS:\r\n      console.log(action)\r\n      return {...action}\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\n/**** Action Creater ****/ \r\nfunction publishSuccess(data){\r\n  return {type: PUBLISH_SUCCESS, payload: data}\r\n}\r\n\r\nfunction articlesSuccess(data){\r\n  return {type: ARTICLES_SUCCESS, payload: data}\r\n}\r\n/**** Action End ****/\r\n\r\n\r\n// 发布文章\r\nexport function publish(state){\r\n  console.log(state)\r\n  return ''\r\n  return dispatch => {\r\n    axios.post('/api/articles/', state).then(res=>{\r\n      const data = res.data;\r\n      if(!data.code){\r\n        dispatch(publishSuccess(res.data))\r\n      }\r\n    })\r\n\r\n  }\r\n}\r\n\r\n// 获取专题的文章列表\r\nexport function articles(state){\r\n  console.log('type:', state.type)\r\n  return dispatch => {\r\n    axios.get('/api/articles/' + state.type)\r\n    .then(res=>{\r\n      console.log(res)\r\n      dispatch(articlesSuccess())\r\n    })\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { List, Avatar, Space } from 'antd';\r\nimport { MessageOutlined, LikeOutlined, StarOutlined } from '@ant-design/icons';\r\nimport { connect } from 'react-redux';\r\nimport { articles } from '../../redux/article.redux';\r\nimport axios from 'axios';\r\n\r\n\r\nconst IconText = ({ icon, text }) => (\r\n  <Space>\r\n    {React.createElement(icon)}\r\n    {text}\r\n  </Space>\r\n);\r\n\r\nclass Articles extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      type: '',\r\n      listData: []\r\n    }\r\n  }\r\n  componentDidMount(){\r\n    this.setState({\r\n      type: this.props.match.params.type\r\n    })\r\n\r\n    \r\n    axios.get('/api/articles/' + this.props.match.params.type)\r\n    .then(res=>{\r\n      console.log(res)\r\n      const data = res.data.data;\r\n      const { listData } = this.state;\r\n\r\n      for (let i = 0; i < data.length; i++) {\r\n        let content = data[i].content;\r\n        if(content.replace(/\\s+/g, \"\") === '<p></p>'){\r\n          content = ''\r\n        }else{\r\n          content = content.substr(0,180).replace(/<[a-z]+>|<\\/[a-z]+>|&nbsp;|&lt;\\/[a-z]+&gt;|&lt;[a-z]+&gt;/g,  '') + '...'\r\n        };\r\n\r\n        listData.push({\r\n          id: data[i]._id,\r\n          href: data[i].url,\r\n          title: data[i].title,\r\n          like: data[i].like,\r\n          mark: data[i].mark,\r\n          comment: data[i].comment,\r\n          avatar: data[i].author_avatar,\r\n          description: data[i].author_name,\r\n          content: content,\r\n          sourceSite: data[i].sourceSite,\r\n          externally: data[i].externally\r\n        });\r\n      }\r\n\r\n      this.setState({\r\n        listData: listData\r\n      })\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div  className=\"container\" style={{backgroundColor: '#fff'}}>\r\n        <List\r\n          itemLayout=\"vertical\"\r\n          size=\"large\"\r\n          style={{padding: '20px 10px'}}\r\n          // pagination={{\r\n          //   onChange: page => {\r\n          //     console.log(page);\r\n          //   },\r\n          //   pageSize: 4,\r\n          // }}\r\n          dataSource={this.state.listData}\r\n          renderItem={item => (\r\n            <List.Item\r\n              key={item.title}\r\n              actions={[\r\n                <IconText icon={StarOutlined} text={item.mark} key=\"list-vertical-star-o\" />,\r\n                <IconText icon={LikeOutlined} text={item.like} key=\"list-vertical-like-o\" />,\r\n                <IconText icon={MessageOutlined} text={item.comment} key=\"list-vertical-message\" />,\r\n              ]}\r\n              // extra={\r\n              //   <img\r\n              //     width={272}\r\n              //     alt=\"logo\"\r\n              //     src=\"https://gw.alipayobjects.com/zos/rmsportal/mqaQswcyDLcXyDKnZfES.png\"\r\n              //   />\r\n              // }\r\n            >\r\n              <List.Item.Meta\r\n                avatar={<Avatar src={item.avatar} />}\r\n                title={ <a href={ item.externally ? `/video/${item.id}` : item.href }>{ item.title }</a>}\r\n                description={item.description}\r\n              />\r\n              {item.content}\r\n            </List.Item>\r\n          )}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    counter: state.article\r\n  }\r\n}\r\n\r\n\r\nexport default connect( mapStateToProps, { articles } )(Articles);\r\n\r\n// export default Articles;","import React, { Component } from 'react';\r\nimport { Layout, Menu } from 'antd';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {\r\n  MenuUnfoldOutlined,\r\n  MenuFoldOutlined,\r\n  UserOutlined,\r\n  VideoCameraOutlined,\r\n  UploadOutlined,\r\n} from '@ant-design/icons';\r\nimport './index.scss';\r\n\r\nconst { Header, Sider, Content } = Layout;\r\n\r\nclass Admin extends Component {\r\n  state = {\r\n    collapsed: false,\r\n  };\r\n\r\n  toggle = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed,\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <Layout id='components-layout-demo-custom-trigger'>\r\n        <Sider trigger={null} collapsible collapsed={this.state.collapsed}>\r\n          <div className=\"logo\" />\r\n          <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['1']}>\r\n            <Menu.Item key=\"1\" icon={<UserOutlined />}>\r\n              <NavLink to='/admin/publish'> 发布文章 </NavLink>  \r\n            </Menu.Item>\r\n            <Menu.Item key=\"2\" icon={<VideoCameraOutlined />}>\r\n              nav 2\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Sider>\r\n        <Layout className=\"site-layout\">\r\n          <Header className=\"site-layout-background\" style={{ padding: 0 }}>\r\n            {React.createElement(this.state.collapsed ? MenuUnfoldOutlined : MenuFoldOutlined, {\r\n              className: 'trigger',\r\n              onClick: this.toggle,\r\n            })}\r\n          </Header>\r\n          <Content\r\n            className=\"site-layout-background\"\r\n            style={{\r\n              overflow:'auto',\r\n              margin: '24px 16px',\r\n              padding: 24,\r\n              minHeight: 280,\r\n            }}\r\n          >\r\n            { this.props.children }\r\n          </Content>\r\n        </Layout>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Admin;","import React, { Component } from 'react';\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux';\r\nimport { Form, Input, Button, InputNumber, Row, Col, Select, message, Checkbox } from 'antd';\r\nimport { EditorState, convertToRaw } from 'draft-js';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport htmlToDraft from 'html-to-draftjs';\r\nimport draftToMarkdown from 'draftjs-to-markdown';\r\nimport { publish } from '../../redux/article.redux'\r\n\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport './index.css'\r\n\r\nconst layout = {\r\n  labelCol: { span: 0 },\r\n  wrapperCol: { span: 24 },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 0, span: 22 },\r\n};\r\n\r\nclass Publish extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      editorState: EditorState.createEmpty(),\r\n      title : '',\r\n      url : '',\r\n      like : 0,\r\n      mark : 0,\r\n      comment : 0,\r\n      type: 'economy',\r\n      sourceSite: '',\r\n      videoCode: '',\r\n      authorName: '',\r\n      authorAvator: '',\r\n      content: '',\r\n      contentHtml: '',\r\n    };\r\n  }\r\n\r\n  // TODO \r\n  // 发布文章后 loading\r\n  // 发布文章后 消息提示\r\n  onEditorStateChange= (editorState) => {\r\n    this.setState({\r\n      editorState,\r\n    });\r\n  };\r\n\r\n  onContentStateChange = (contentState) => { \r\n    this.setState({\r\n      content: contentState.blocks[0].text\r\n    })\r\n  }\r\n\r\n  uploadImageCallBack = (file) => {\r\n    return new Promise(\r\n      (resolve, reject) => {\r\n        const data = new FormData();\r\n        const xhr = new XMLHttpRequest();\r\n        \r\n        data.append('image', file);\r\n        xhr.open('POST', '/api/upload');\r\n        xhr.send(data);\r\n\r\n        xhr.addEventListener('load', () => {\r\n          const response = JSON.parse(xhr.responseText);\r\n          resolve(response);\r\n        });\r\n        xhr.addEventListener('error', () => {\r\n          const error = JSON.parse(xhr.responseText);\r\n          reject(error);\r\n        });\r\n      }\r\n    );\r\n  }\r\n  \r\n\r\n  onFinish = values => {\r\n    console.log('Success:', values);\r\n\r\n    for(let i in values){\r\n      this.setState({\r\n        [i]: values[i]\r\n      })\r\n    }\r\n\r\n    this.setState({\r\n      contentHtml: draftToHtml(convertToRaw(this.state.editorState.getCurrentContent())),\r\n    })\r\n    \r\n    this.props.publish(this.state)\r\n  };\r\n\r\n  onCheckBox = (checkedValues) => {\r\n    console.log('checked = ', checkedValues);\r\n  }\r\n\r\n\r\n  onFinishFailed = errorInfo => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  componentDidUpdate(){\r\n    // 发布文章后，清空code状态码。 防止多次弹窗\r\n    this.props.state.code=null\r\n  }\r\n  \r\n\r\n  render() {\r\n    const { editorState } = this.state;\r\n    return (\r\n      <div>\r\n        { this.props.state.code===0 ? message.success(this.props.state.msg) : <></> }\r\n        <Form\r\n          {...layout}\r\n          name=\"basic\"\r\n          initialValues={{ remember: true }}\r\n          onFinish={this.onFinish}\r\n          onFinishFailed={this.onFinishFailed}\r\n          initialValues = {{\r\n            ['like'] : 0,\r\n            ['type'] : [],\r\n            ['mark'] : 0,\r\n            ['comment'] : 0,\r\n            ['sourceSite'] : 'our'\r\n          }}\r\n        >\r\n\r\n          <Row gutter={15}>\r\n            <Col span={8}>\r\n              <Form.Item\r\n                label=\"标题\"\r\n                name=\"title\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: '请输入标题',\r\n                  },\r\n                ]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            \r\n            <Col span={8}>\r\n              <Form.Item\r\n                label=\"链接\"\r\n                name=\"url\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: '请输入链接',\r\n                  },\r\n                ]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Form.Item label=\"视频嵌入代码\" name=\"videoCode\" >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row gutter={15}>\r\n            <Col span={8}>\r\n              <Form.Item\r\n                label=\"作者头像\"\r\n                name=\"authorAvatar\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: '请输入链接',\r\n                  },\r\n                ]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Form.Item\r\n                label=\"作者昵称\"\r\n                name=\"authorName\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: '请输入作者昵称',\r\n                  },\r\n                ]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        \r\n          <Row>\r\n            <Col span={6}>\r\n              <Form.Item\r\n                label=\"内容来源\"\r\n                name=\"sourceSite\"\r\n                rules={[{ required: true, message: '内容来源' }]}\r\n              >\r\n                <Select placeholder=\"------\"  style={{width: 120}}>\r\n                  <Select.Option value=\"our\">本站</Select.Option>\r\n                  <Select.Option value=\"bilibili\">哔哩哔哩</Select.Option>\r\n                  <Select.Option value=\"zhihu\">知乎</Select.Option>\r\n                  <Select.Option value=\"douban\">豆瓣</Select.Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={6} >\r\n              <Form.Item label=\"点赞数\" name=\"like\" >\r\n                <InputNumber min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={6} >\r\n              <Form.Item label=\"收藏数\" name=\"mark\" >\r\n                <InputNumber min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={6} >\r\n              <Form.Item  label=\"评论数\" name=\"comment\" >\r\n                <InputNumber min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row>\r\n            <Col span={24}>\r\n              <Form.Item\r\n                label=\"类型\"\r\n                name=\"type\"\r\n                rules={[{ required: true, message: '请选择类型' }]}\r\n              >\r\n                {/* <Select placeholder=\"------\"  style={{width: 120}}>\r\n                  <Select.Option value=\"economy\">经济</Select.Option>\r\n                  <Select.Option value=\"documentary\">纪录片</Select.Option>\r\n                </Select> */}\r\n\r\n                <Checkbox.Group options={[\r\n                  { label: '经济', value: 'economy' },\r\n                  { label: '纪录片', value: 'documentry' },\r\n                ]} defaultValue={['economy']} onChange={this.onCheckBox} />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Form.Item {...tailLayout}>\r\n              <Button type=\"primary\" htmlType=\"submit\">\r\n                Submit\r\n              </Button>\r\n            </Form.Item>\r\n\r\n          <Editor\r\n            editorState={ this.state.editorState }\r\n            toolbarClassName=\"toolbarClassName\"\r\n            wrapperClassName=\"wrapperClassName\"\r\n            editorClassName=\"editorClassName\"\r\n            onEditorStateChange={ this.onEditorStateChange }\r\n            onContentStateChange={ this.onContentStateChange }\r\n            toolbar={{\r\n              image: { \r\n                uploadCallback: this.uploadImageCallBack, \r\n                previewImage: true, \r\n                alt: { present: true, mandatory: false } \r\n              }\r\n            }}\r\n          />\r\n\r\n          <textarea disabled\r\n            value={ draftToHtml(convertToRaw(editorState.getCurrentContent())) }\r\n          />\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    state: state.article\r\n  } \r\n}\r\nfunction mapDispatchToProps(dispatch){\r\n  return {\r\n    add: ()=> dispatch({type:'add'}),\r\n    // asyncAdd: () => dispatch( ()=>{\r\n    //   setTimeout(() => {\r\n    //     dispatch({type: 'asyncAdd'})\r\n    //   }, 1000)\r\n    // })\r\n  }\r\n}\r\n\r\nexport default connect( mapStateToProps, { publish } )(Publish);\r\n","import React, { Component } from 'react'\r\nimport Axios from 'axios'\r\n\r\nimport './index.css'\r\n\r\nexport default class IVideo extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      externally: ''\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    console.log(this.props.match.params.id)\r\n\r\n    Axios.get(`/api/video/${this.props.match.params.id}`)\r\n    .then(res=>{\r\n      console.log(res)\r\n      this.setState({\r\n        externally: res.data.data.externally\r\n      })\r\n\r\n      \r\n    })\r\n\r\n    // var body = iframe.contentWindow.document.body;\r\n\r\n    // body.style.marginTop =50;\r\n    // body.style.padding =0;\r\n    // body.style.fontSize =30;\r\n    // body.style.textAlign ='center';\r\n    // body.style.backgroundColor ='red';\r\n    // body.style.color ='blue';\r\n    \r\n  }\r\n\r\n  componentDidUpdate(){\r\n    var iframe = document.getElementsByClassName('aaaa')[0].children[0];\r\n    let doc =iframe.contentWindow.document;\r\n\r\n    iframe.onload=function(){  \r\n      console.log(123123)\r\n      // let iWindow =iframe.contentWindow;\r\n      // console.log( doc.querySelector('.bilibili-player-video.video-mirror'))\r\n}  \r\n\r\n    // setTimeout(() => {    \r\n    // }, 5000)\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"aaaa\" dangerouslySetInnerHTML={{ __html: this.state.externally }}>\r\n        </div>\r\n        {this.state.externally}\r\n        <p></p>\r\n        {/* <iframe src=\"https://xbeibeix.com/api/bilibili/biliplayer/?url=https://www.bilibili.com/video/BV1H7411y7Hh\"></iframe> */}\r\n      </>\r\n\r\n    )\r\n  }\r\n}\r\n","import {BrowserRouter, Switch, Route, Redirect} from 'react-router-dom'\r\nimport React, { Component } from 'react';\r\nimport App from './App';\r\nimport User from './pages/user'\r\nimport Bulletin from './pages/bulletin';\r\nimport Articles from './pages/articles';\r\nimport Admin from './pages/admin';\r\nimport Publish from './pages/publish';\r\nimport IVideo from './pages/video';\r\n\r\nimport './css/common.scss'\r\n\r\nclass Router extends Component {\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <App>\r\n          <Switch>\r\n            <Route path='/admin' render={()=>\r\n              <Admin>\r\n                <Route path='/admin/publish' component={Publish} />\r\n                <Redirect to=\"/admin/publish\" />\r\n              </Admin>\r\n            } />\r\n\r\n            <Route path='/' render={()=> \r\n              <User>\r\n                <Switch>\r\n                  <Route path='/bulletin' component={Bulletin} />\r\n                  <Route path='/video/:id' component={IVideo} />\r\n                  <Route path='/articles/:type' component={Articles} />\r\n                  <Redirect to=\"/bulletin\" />\r\n                </Switch>\r\n              </User>\r\n            } />\r\n          </Switch>\r\n        </App>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Router;","import { combineReducers } from 'redux'\r\nimport { article } from './redux/article.redux'\r\n\r\nexport default combineReducers({article})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {createStore, applyMiddleware, compose} from 'redux'\nimport {Provider} from 'react-redux'\nimport logger from 'redux-logger';\nimport thunk from 'redux-thunk'\nimport Router from './router';\nimport reducer from './reducer'\n\n\nconst store = createStore(reducer, compose(\n  applyMiddleware(thunk),\n  window.devToolsExtension ? window.devToolsExtension():f=>f\n))\n\n\nReactDOM.render(\n  <Provider store = {store}>\n    <Router />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}