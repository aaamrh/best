(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{139:function(e,t,a){},255:function(e,t,a){e.exports=a(548)},259:function(e,t,a){},260:function(e,t,a){},270:function(e,t,a){},359:function(e,t,a){},468:function(e,t,a){},547:function(e,t,a){},548:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),c=a.n(l),o=(a(259),a(24)),i=a(27),s=a(31),m=a(35),u=(a(260),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.children)}}]),a}(n.Component)),p=a(73),d=a(83),E=(a(266),a(234)),h=a(78),b=a(26),g=(a(232),a(87)),v=(a(167),a(54)),y=(a(139),a(270),v.a.Header),f=v.a.Content,j=v.a.Footer,C=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v.a,{className:"layout"},r.a.createElement(y,null,r.a.createElement("div",{className:"logo"}),r.a.createElement(g.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"]})),r.a.createElement(f,{style:{padding:"50px 50px 0"}},r.a.createElement("div",{className:"site-layout-content"},this.props.children)),r.a.createElement(j,{style:{textAlign:"center"}},"XXX \xa92018 Created by XXX")))}}]),a}(n.Component),O=(a(299),a(238)),k=(a(142),a(41)),S=(a(143),a(17)),x=(a(550),a(65)),w=x.a.Meta,I=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t){console.log(e.props),console.log(t,t.target)},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"site-card-wrapper container"},r.a.createElement(k.a,{gutter:50},r.a.createElement(S.a,{span:6},r.a.createElement(h.b,{to:"/articles/economy",target:"_blank"},r.a.createElement(x.a,{hoverable:!0,cover:r.a.createElement("img",{alt:"",src:"/assets/imgs/economy-1.jpg"}),onClick:this.handleClick},r.a.createElement(w,{title:"",description:"\u7ecf\u6d4e"})))),r.a.createElement(S.a,{span:6},r.a.createElement(h.b,{to:"/articles/documentary",target:"_blank"},r.a.createElement(x.a,{hoverable:!0,cover:r.a.createElement("img",{alt:"",src:"/assets/imgs/movie.jpg"}),onClick:this.handleClick},r.a.createElement(w,{title:"",description:"\u7eaa\u5f55\u7247"})))),r.a.createElement(S.a,{span:6},r.a.createElement(x.a,{hoverable:!0,cover:r.a.createElement("img",{alt:"example",src:"https://cn.udacity.com/assets/iridium/images/shared/nd-cards/nd009.jpg"})},r.a.createElement(w,{title:"Europe Street beat",description:"www.instagram.com"}))),r.a.createElement(S.a,{span:6},r.a.createElement(x.a,{hoverable:!0,cover:r.a.createElement("img",{alt:"example",src:"https://cn.udacity.com/assets/iridium/images/shared/nd-cards/nd578.jpg"})},r.a.createElement(w,{title:"Europe Street beat",description:"www.instagram.com"})))),r.a.createElement(O.a,{orientation:"left",style:{color:"#1DA57A"}},"\u77e5\u4e4e\u4e07\u8d5e"),r.a.createElement(k.a,{gutter:50},r.a.createElement(S.a,{span:8},r.a.createElement(x.a,{hoverable:!0,cover:r.a.createElement("img",{alt:"example",src:"https://cn.udacity.com/assets/iridium/images/shared/nd-cards/nd002.jpg"})},r.a.createElement(w,{title:"\u7ecf\u6d4e",description:"\u77e5\u4e4e100\u4e07\u8d5e"}))),r.a.createElement(S.a,{span:8},r.a.createElement(x.a,{hoverable:!0,cover:r.a.createElement("img",{alt:"example",src:"https://cn.udacity.com/assets/iridium/images/shared/nd-cards/nd100-cn-trial.jpg"})},r.a.createElement(w,{title:"\u5a31\u4e50",description:"\u77e5\u4e4e50\u4e07\u8d5e"}))),r.a.createElement(S.a,{span:8},r.a.createElement(x.a,{hoverable:!0,cover:r.a.createElement("img",{alt:"example",src:"https://cn.udacity.com/assets/iridium/images/shared/nd-cards/nd009.jpg"})},r.a.createElement(w,{title:"\u751f\u6d3b",description:"\u77e5\u4e4e20\u4e07+\u8d5e"})))))}}]),a}(n.Component),N=(a(549),a(135)),F=(a(551),a(253)),T=(a(320),a(239)),A=a(552),D=a(553),_=a(554),H=a(134),L=a(69),q=a.n(L),z=(a(338),{code:null,url:"",title:"",content:"",like:0,mark:0,comment:0,type:"economy",sourceSite:"",videoCode:"",authorName:"",authorAvator:""});var B=function(e){var t=e.icon,a=e.text;return r.a.createElement(T.a,null,r.a.createElement(t),a)},X=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={type:"",listData:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({type:this.props.match.params.type}),q.a.get("/api/articles/"+this.props.match.params.type).then((function(t){console.log(t);for(var a=t.data.data,n=e.state.listData,r=0;r<a.length;r++){var l=a[r].content;l="<p></p>"===l.replace(/\s+/g,"")?"":l.substr(0,180).replace(/<[a-z]+>|<\/[a-z]+>|&nbsp;|&lt;\/[a-z]+&gt;|&lt;[a-z]+&gt;/g,"")+"...",n.push({id:a[r]._id,href:a[r].url,title:a[r].title,like:a[r].like,mark:a[r].mark,comment:a[r].comment,avatar:a[r].author_avatar,description:a[r].author_name,content:l,sourceSite:a[r].sourceSite,externally:a[r].externally})}e.setState({listData:n})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container",style:{backgroundColor:"#fff"}},r.a.createElement(N.b,{itemLayout:"vertical",size:"large",style:{padding:"20px 10px"},dataSource:this.state.listData,renderItem:function(e){return r.a.createElement(N.b.Item,{key:e.title,actions:[r.a.createElement(B,{icon:A.a,text:e.mark,key:"list-vertical-star-o"}),r.a.createElement(B,{icon:D.a,text:e.like,key:"list-vertical-like-o"}),r.a.createElement(B,{icon:_.a,text:e.comment,key:"list-vertical-message"})]},r.a.createElement(N.b.Item.Meta,{avatar:r.a.createElement(F.a,{src:e.avatar}),title:r.a.createElement("a",{href:e.externally?"/video/".concat(e.id):e.href},e.title),description:e.description}),e.content)}}))}}]),a}(n.Component);var M=Object(d.b)((function(e){return{counter:e.article}}),{articles:function(e){return console.log("type:",e.type),function(t){q.a.get("/api/articles/"+e.type).then((function(e){var a;console.log(e),t({type:"ARTICLES_SUCCESS",payload:a})}))}}})(X),U=a(555),R=a(556),J=a(557),P=a(558),V=(a(359),v.a.Header),K=v.a.Sider,G=v.a.Content,W=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(v.a,{id:"components-layout-demo-custom-trigger"},r.a.createElement(K,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},r.a.createElement("div",{className:"logo"}),r.a.createElement(g.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},r.a.createElement(g.a.Item,{key:"1",icon:r.a.createElement(U.a,null)},r.a.createElement(h.c,{to:"/admin/publish"}," \u53d1\u5e03\u6587\u7ae0 ")),r.a.createElement(g.a.Item,{key:"2",icon:r.a.createElement(R.a,null)},"nav 2"))),r.a.createElement(v.a,{className:"site-layout"},r.a.createElement(V,{className:"site-layout-background",style:{padding:0}},r.a.createElement(this.state.collapsed?J.a:P.a,{className:"trigger",onClick:this.toggle})),r.a.createElement(G,{className:"site-layout-background",style:{overflow:"auto",margin:"24px 16px",padding:24,minHeight:280}},this.props.children)))}}]),a}(n.Component),Q=(a(185),a(105)),Y=(a(361),a(252)),Z=(a(363),a(136)),$=(a(175),a(53)),ee=(a(365),a(46)),te=(a(367),a(88)),ae=(a(369),a(251)),ne=a(18),re=a(82),le=a(244),ce=a(165),oe=a.n(ce),ie=(a(465),a(466),a(467),a(468),{labelCol:{span:0},wrapperCol:{span:24}}),se={wrapperCol:{offset:0,span:22}},me=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onEditorStateChange=function(e){n.setState({editorState:e})},n.onContentStateChange=function(e){n.setState({content:e.blocks[0].text})},n.uploadImageCallBack=function(e){return new Promise((function(t,a){var n=new FormData,r=new XMLHttpRequest;n.append("image",e),r.open("POST","/api/upload"),r.send(n),r.addEventListener("load",(function(){var e=JSON.parse(r.responseText);t(e)})),r.addEventListener("error",(function(){var e=JSON.parse(r.responseText);a(e)}))}))},n.onFinish=function(e){for(var t in console.log("Success:",e),e)n.setState(Object(ne.a)({},t,e[t]));n.setState({contentHtml:oe()(Object(re.convertToRaw)(n.state.editorState.getCurrentContent()))}),n.props.publish(n.state)},n.onCheckBox=function(e){console.log("checked = ",e)},n.onFinishFailed=function(e){console.log("Failed:",e)},n.state={editorState:re.EditorState.createEmpty(),title:"",url:"",like:0,mark:0,comment:0,type:"economy",sourceSite:"",videoCode:"",authorName:"",authorAvator:"",content:"",contentHtml:""},n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(){this.props.state.code=null}},{key:"render",value:function(){var e,t=this.state.editorState;return r.a.createElement("div",null,0===this.props.state.code?ae.b.success(this.props.state.msg):r.a.createElement(r.a.Fragment,null),r.a.createElement(ee.a,Object.assign({},ie,Object(ne.a)({name:"basic",initialValues:{remember:!0},onFinish:this.onFinish,onFinishFailed:this.onFinishFailed},"initialValues",(e={},Object(ne.a)(e,"like",0),Object(ne.a)(e,"type",[]),Object(ne.a)(e,"mark",0),Object(ne.a)(e,"comment",0),Object(ne.a)(e,"sourceSite","our"),e))),r.a.createElement(k.a,{gutter:15},r.a.createElement(S.a,{span:8},r.a.createElement(ee.a.Item,{label:"\u6807\u9898",name:"title",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u9898"}]},r.a.createElement(te.a,null))),r.a.createElement(S.a,{span:8},r.a.createElement(ee.a.Item,{label:"\u94fe\u63a5",name:"url",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u94fe\u63a5"}]},r.a.createElement(te.a,null))),r.a.createElement(S.a,{span:8},r.a.createElement(ee.a.Item,{label:"\u89c6\u9891\u5d4c\u5165\u4ee3\u7801",name:"videoCode"},r.a.createElement(te.a,null)))),r.a.createElement(k.a,{gutter:15},r.a.createElement(S.a,{span:8},r.a.createElement(ee.a.Item,{label:"\u4f5c\u8005\u5934\u50cf",name:"authorAvatar",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u94fe\u63a5"}]},r.a.createElement(te.a,null))),r.a.createElement(S.a,{span:8},r.a.createElement(ee.a.Item,{label:"\u4f5c\u8005\u6635\u79f0",name:"authorName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f5c\u8005\u6635\u79f0"}]},r.a.createElement(te.a,null)))),r.a.createElement(k.a,null,r.a.createElement(S.a,{span:6},r.a.createElement(ee.a.Item,{label:"\u5185\u5bb9\u6765\u6e90",name:"sourceSite",rules:[{required:!0,message:"\u5185\u5bb9\u6765\u6e90"}]},r.a.createElement($.a,{placeholder:"------",style:{width:120}},r.a.createElement($.a.Option,{value:"our"},"\u672c\u7ad9"),r.a.createElement($.a.Option,{value:"bilibili"},"\u54d4\u54e9\u54d4\u54e9"),r.a.createElement($.a.Option,{value:"zhihu"},"\u77e5\u4e4e"),r.a.createElement($.a.Option,{value:"douban"},"\u8c46\u74e3")))),r.a.createElement(S.a,{span:6},r.a.createElement(ee.a.Item,{label:"\u70b9\u8d5e\u6570",name:"like"},r.a.createElement(Z.a,{min:0}))),r.a.createElement(S.a,{span:6},r.a.createElement(ee.a.Item,{label:"\u6536\u85cf\u6570",name:"mark"},r.a.createElement(Z.a,{min:0}))),r.a.createElement(S.a,{span:6},r.a.createElement(ee.a.Item,{label:"\u8bc4\u8bba\u6570",name:"comment"},r.a.createElement(Z.a,{min:0})))),r.a.createElement(k.a,null,r.a.createElement(S.a,{span:24},r.a.createElement(ee.a.Item,{label:"\u7c7b\u578b",name:"type",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7c7b\u578b"}]},r.a.createElement(Y.a.Group,{options:[{label:"\u7ecf\u6d4e",value:"economy"},{label:"\u7eaa\u5f55\u7247",value:"documentry"}],defaultValue:["economy"],onChange:this.onCheckBox})))),r.a.createElement(ee.a.Item,se,r.a.createElement(Q.a,{type:"primary",htmlType:"submit"},"Submit")),r.a.createElement(le.Editor,{editorState:this.state.editorState,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:this.onEditorStateChange,onContentStateChange:this.onContentStateChange,toolbar:{image:{uploadCallback:this.uploadImageCallBack,previewImage:!0,alt:{present:!0,mandatory:!1}}}}),r.a.createElement("textarea",{disabled:!0,value:oe()(Object(re.convertToRaw)(t.getCurrentContent()))})))}}]),a}(n.Component);var ue=Object(d.b)((function(e){return{state:e.article}}),{publish:function(e){return console.log(e),""}})(me),pe=(a(547),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={externally:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.match.params.id),q.a.get("/api/video/".concat(this.props.match.params.id)).then((function(t){console.log(t),e.setState({externally:t.data.data.externally})}))}},{key:"componentDidUpdate",value:function(){var e=document.getElementsByClassName("aaaa")[0].children[0];e.contentWindow.document;e.onload=function(){console.log(123123)}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"aaaa",dangerouslySetInnerHTML:{__html:this.state.externally}}),this.state.externally,r.a.createElement("p",null))}}]),a}(n.Component)),de=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(u,null,r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/admin",render:function(){return r.a.createElement(W,null,r.a.createElement(b.b,{path:"/admin/publish",component:ue}),r.a.createElement(b.a,{to:"/admin/publish"}))}}),r.a.createElement(b.b,{path:"/",render:function(){return r.a.createElement(C,null,r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/bulletin",component:I}),r.a.createElement(b.b,{path:"/video/:id",component:pe}),r.a.createElement(b.b,{path:"/articles/:type",component:M}),r.a.createElement(b.a,{to:"/bulletin"})))}}))))}}]),a}(n.Component),Ee=Object(p.c)({article:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUBLISH_SUCCESS":return Object(H.a)(Object(H.a)({},e),t.payload);case"ARTICLES_SUCCESS":return console.log(t),Object(H.a)({},t);default:return e}}}),he=Object(p.e)(Ee,Object(p.d)(Object(p.a)(E.a),window.devToolsExtension?window.devToolsExtension():function(e){return e}));c.a.render(r.a.createElement(d.a,{store:he},r.a.createElement(de,null)),document.getElementById("root"))}},[[255,1,2]]]);
//# sourceMappingURL=main.8e1e3dbb.chunk.js.map